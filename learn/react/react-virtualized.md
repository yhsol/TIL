# react-virtualized ? infinite scroll?

데이터를 가져올 때 해당 데이터의 크기를 알 수 없거나, 크기가 바뀌는 데이터라면
한번에 데이터를 가져오는 것은 성능상의 이슈를 발생시킬 수 있다.

그래서 해당 데이터를 나눠서 필요한 만큼을 로딩하게 되는데
페이지 네이션과 인피니트 스크롤 역시 정의한 액션에 따라 정해진 크기의 데이터를 새로 로딩하는 방식을 사용할 수 있다.

이 방식도 유용하지만 결국 re-rendering 이 필요하다.
react-virtulized 은 props 또는 state 가 변하기 전까지 re-rendering 을 방지한다.

작동하는 방식은 인피니트 스크롤과 유사하다.
화면에 데이터를 그릴 테이블 또는 리스트의 크기를 정의하고,
그 화면에서 벗어나는 액션이 있을 때 데이터를 추가한다.
그리고 이 과정에서 api 를 다시 호출하거나 다시 렌더링이 되지 않고
dom 에 엘리먼트가 바로 추가된다.

아직 이 라이브러리에 대한 이해가 부족해서 내부의 코드가 짜여진 형태나 작동방식을 다 이해하지는 못했지만
어느정도 form 이 정해져 있어서 해당 form 을 채워가며 구현할 수 있었다.

자료를 찾아보니 이 라이브러리는 성능 저하 없는 rendering 에 집중하기 때문에 다양하게 활용하려면
해당 라이브러리와 구현하고자 하는 컴포넌트를 잘 조합해야 한다.

현재 사용하고 있는 material-ui 에는 이에대한 예가 작성되어 있어 해당 코드를 활용하여 구현했다.

이름을 따라 추론해보자면 리액트의 가상 돔과 같이 가상 리스트의 개념인 듯 하다.
가상 리스트에 데이터를 다 가져오는 작업을 따로 진행하고,
화면에서 그릴 데이터는 필요한 크기만큼 보여주는 방식으로 작동하는 듯하다.

이 라이브러리를 사용함으로써 확실히 데이터를 가져오고 보여주는 과정에서 성능의 향상이 있다.
큰 데이터를 가져와야 할 때 좋은 최적화 도구라고 생각된다.

리스트나 테이블 외에도 다양하게 사용할 수 있는 듯 하여 참고하며 작업하면 좋을 듯 하다.

현재 material-ui 의 form 은 원하는 기능에 비해 커다랗고 복잡한듯 하여 해당 form 도 정리가 필요할 듯 하다.

- 추가 - 생각해 볼 지점  
   화면 크기에 의존하게 된다.
  여기서의 크기는 css 가 아닌 자바스크립트 값으로 넘기게 되기 때문에 media-query 를 통하기는 어렵다.
  window 객체를 이용하여 해당 크기를 구한 뒤, 그것에 반응하는 값을 만들어서 넘기면 될 듯하나 역시 품이 든다.

  기존 인피니트 스크롤에서는 화면 크기 외에도 데이터 개수를 쓸 수 있기때문에 이 부분은 이게 편한듯 하다.

  또 궁금한 것은,
  기존에 데이터를 가져와서 보여줄 데이터 개수로 잘라서 보여줄 때는 데이터를 다 가져와서 그것을 잘라서 보여주는 것인가???
  그러면 다시 렌더링 할 필요가 없는거 아닌가???
  아니면 그렇게 잘라서 다시 호출해서 가져올 수 잇는 것인가???
  그랬던 것 같기도 하다.

  vue 인피니트 스크롤을 다시 봐서 확인해봐야겠다.
