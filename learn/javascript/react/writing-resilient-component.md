# writing resilient component

- 미학을 위해서가 아니라 버그를 찾기 위해서 linter를 사용하세요.

- 모든 것을 자동화할 필요는 없습니다! 가이드 안의 설명을 정말로 읽어서 얻을 수 있는 통찰은 “규칙”을 따르는 것보다 가치있습니다.

- 하지만 엄격한 스타일 가이드를 따르는 것이 혼란을 줄 뿐이라면, 정말로 중요한건 뭐죠?

- 그것이 이 글의 주제입니다.

## 유연한 컴포넌트 작성하기

몇 단계나 들여쓰기를 하는지나 import를 알파벳 순으로 정렬하는 일은 망가진 디자인을 고치는데엔 아무 도움이 안 됩니다. 그러니 코드가 어떻게 보이는지 대신, 어떻게 작동하는지에 집중하겠습니다. 다음 몇 가지 컴포넌트 디자인 원칙이 제가 매우 유용하다고 여기는 것들입니다:

1. 데이터 흐름을 중단해서는 안 됩니다
2. 언제나 렌더링 할 준비가 되어 있어야 합니다
3. 싱글톤인 컴포넌트는 없습니다
4. 항상 지역 상태를 격리하세요

React를 쓰지 않더라도, 단방향 데이터 흐름을 사용하는 UI 컴포넌트를 사용한다면 시행착오를 통해 같은 원칙에 도달할겁니다.

### 원칙 1: 데이터 흐름을 중단해서는 안 됩니다

#### 렌더링 내에서 데이터 흐름을 중단하지 마세요

- props 를 다시 state 에 저장하고, 컴포넌트에서는 저장된 state 를 사용할 경우 props 가 변경되었을 때 반영되진 않음.  
  그렇기 때문에 props 를 바로 사용하거나, state 를 저장해야 한다면 defaultState, initialState 같은 명칭으로 변경 사항이 무시되리라는 점을 확실히 하는게 좋다.
  - 내생각 state 에 저장도 필요하고 props 에 따라 업데이트도 되야한다면 useEffect 에서 props 를 tracking 하면서 변경이 있을 때마다 state 를 업데이트(setState) 해주는 방법을 사용해야 할 것 같다.
    -> 최적화라고 보기 어려움. useMemo 등의 memo 기능의 사용을 고려해볼 필요.
