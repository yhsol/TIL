# make collection from input in rust - [Rust] 컬렉션 데이터 만들기 - 벡터(vector)

알고리즘을 풀다보면 종종 입력을 받아서, 그걸 배열에 담는다던가 하는 방식으로 풀어야 하는 경우가 있는데요.
예를 들어 `n` 이라는 수가 주어지고, `n` 개의 숫자 요소를 갖는 배열을 가지고 작업을 해야 할 수 있을거예요.
파이썬같은 경우에는 위와 같은 작업을 할 수 있는 메서드들을 제공하고, 사용방법도 간단한데요,
간단히 위와 같은 데이터를 만들어보면 아래와 같이 할 수 있을거예요.

```py
n = int(input())
arr = []
for _ in range(n):
   arr.append(int(input()))
```

더 간단하고 짧게 줄일 수도 있겠지만, 어쨌든 굉장히 간결하죠.
Rust 는 이렇게 간결하지는 않은데요. 그래도 위와 같은 논리로 저러한 데이터를 구성할 수 있습니다.
먼저 코드를 살펴볼게요.

```rs
use std::io;

    let mut n = String::new();
    io::stdin().read_line(&mut n).expect("Failed to read line");
    let n: i32 = n.parse().expect("Please type a number!");

    let mut v: Vec<i32> = Vec::new();

    for _ in 0..n {
        let mut i = String::new();
        io::stdin()
            .read_line(&mut i)
            .expect("Failed to read line");
        let i = i.parse::<i32>().expect("Please type a number!");

        v.push(i);
    }
```

파이썬에 비해 코드가 많이 늘어나긴 했지만 그래도 원했던 데이터를 만들어낼 수 있을거예요.

코드를 위에서부터 살펴볼게요.
먼저 `n` 이라는 `String` 을 생성해줘요. 이제 여기에 입력을 읽어서 가져올 건데요,
그를 위해 `std::io` 를 사용해요. `stdin()` 의 `read_line()` 는 입력을 읽어와서 명시된 버퍼에 담아요. 그러면 이제 `n` 에 입력값이 담겼을 거예요.
그리고 이제 `n` 을 숫자로 바꿔야 하죠. `parse()` 를 사용해서 원하는 `i32` 타입으로 변환해요.
위에서 보면 `parse()` 를 사용하는 부분이 두군데 있는데요, 두 방식 모두 사용가능합니다.
위쪽 (`let n: i32 = n.parse().expect("Please type a number!");`) 에서 사용한 것 같이 변수에 타입을 지정해줘서 사용할 수도 있고요,
아래 (`let i = i.parse::<i32>().expect("Please type a number!");`) 에서 사용한 것 같이 `parse` 뒤에 변환하고자 하는 타입을 붙여줄 수도 있어요. 이 방법은 'turbofish' 라고 부르네요.

그러면 다시, `n` 을 숫자로 바꿨다면 이제 배열의 형태로 만들어야겠죠.
collection 이면서, 크기를 조절할 수 있는 데이터 구조인 `Vec` 을 사용해요. 비어있는 새 `Vec` 타입의 `v` 을 만들어 주고,
`n` 번의 반복을 통해 `v` 에 담아줍니다.
Rust 에서는 `..` 표기를 통해서 반복의 범위를 설정할 수 있어요. 파이썬의 `range` 를 사용했던 것과 비슷하죠.
`n` 개의 요소를 담아야 하기 때문에 `0..n` 으로 설정합니다. `0` 부터 `n` 이전까지 만큼 반복해요.
이 과정에서 `v` 에 담는 `i` 역시 입력을 받아와서, 숫자 타입의 데이터가 필요하기 때문에 위에서 `n` 을 입력받아서 숫자로 변환한 방법을 사용해서 변환해요. 반환 된 수를 `v` 에 담습니다. (`v.push(i)`)
반복문이 완료되면, 원하는 형태의 데이터를 확인 할 수 있을거예요.

이 방법이 최선이라고 생각하지는 않아요. Rust 를 공부해 가는 중이라, 지금까지 공부한 것을 통해서 조금씩 코드를 만들어보는 중인데 원했던 형태로 데이터가 잘 만들어져서 기록해둬요. 혹시 비슷한 데이터가 필요한 분께 도움이 되면 좋겠습니다.
